{% extends "stats/stats.html" %}

{% block chart_config %}
  data-series="count"
{% endblock %}

{% block stats %}
<div class="featured">
  <div class="featured-inner">
    <div class="featured-body tabular">
      <table class="stats-aggregate" data-field="count"><thead>
        <tr><th>{{_('Category')}}</th><th class="range"></th><th class="prev_range"></th><th>{{_('All Time')}}</th></tr>
      </thead>
      <tbody>
        <tr>
          <td class="label">{{_('Total Downloads')}}</td>
          <td class="value"><span class="value aggregate" id="sum_range"></span><span class="change" id="sum_diff"></span></td>
          <td class="value"><span class="value aggregate" id="sum_prev_range"></span><span class="change" id="sum_prev_diff"></span></td>
          <td class="value"><span class="value aggregate" id="sum_all_time">{{ addon.total_downloads|numberfmt }}</span><span class="change">&nbsp;</span></td>
        </tr>
        <tr>
          <td class="label">{{_('Average Downloads/Day')}}</td>
          <td class="value"><span class="value aggregate" id="mean_range"></span><span class="change" id="mean_diff"></span></td>
          <td class="value"><span class="value aggregate" id="mean_prev_range"></span><span class="change" id="mean_prev_diff"></span></td>
          <td class="value"><span class="value aggregate" id="mean_all_time">{{ addon.average_daily_downloads|numberfmt }}</span><span class="change">&nbsp;</span></td>
        </tr>
      </tbody></table>
    </div>
  </div>
</div>
{% endblock %}

{% block csvtable %}
<h3>{{_('Downloads by Date')}}<a id="export_data" href=''>{{_('Export as CSV')}}</a></h3>
<div class="statbox">
  <div class="tabular">
    <table class="csv-table">
      <thead>
        <tr>
          <th 
            data-field="date"
            data-format="date">
              {{_('Date')}}
          </th>
          <th 
            data-field="count"
            data-format="number"
            data-bar_column="true"
            data-bar_width="65%">
              {{_('Count')}}
          </th>
        </tr>
      </thead>
    </table>
  </div>
</div>
{% endblock %}
